# 实验报告


## 常规串行优化

首先进行串行优化

1. 将所有的`i++`改为`++i`
2. 将初始化操作在结构体内部执行

![](img/2022-04-18-17-42-47.png)

发现大部分时间都在一个`for`循环中

3. 将`for`循环中`subTreeBuf`改为全局静态
4. 变量声明都弄成共享变量。

优化了10s

![](img/2022-04-18-18-24-35.png)

5. 把所有的`int`定义改为共享的

![](img/2022-04-18-18-56-56.png)

优化了3s

6. 开启一堆编译器优化

优化了20s

![](img/2022-04-18-20-42-53.png)

7. 发现原来这个人写的代码逻辑非常奇怪无法并行, 于是实现了`MyCYK`

![](img/2022-04-19-12-55-21.png)


8. 加入并行

![](img/2022-04-19-12-54-05.png)

![](img/2022-04-19-12-56-04.png)

9. 循环展开最内层的循环

![](img/2022-04-19-12-58-00.png)

![](img/2022-04-19-13-00-01.png)

10. 超级循环展开

![](img/2022-04-19-13-20-54.png)